{"version":3,"file":"LazyJsonUndoRedo.min.js","sources":["LazyJsonUndoRedo.js"],"names":["root","factory","define","amd","LazyJsonUndoRedo","exports","module","this","obj","support","checkSupport","usePolymerShim","Error","_history","_whitelists","_blacklists","_globalWhitelist","_globalBlacklist","_pointer","_recChanges","bind","observeTree","flagCounter","p","prototype","route","concat","observe","Object","keys","forEach","key","indexOf","_isListenable","unobserveTree","unobserve","observeFn","constructor","Array","isArray","unobserveFn","Platform","changes","length","splice","change","push","object","name","rec","create","undo","startFlagIdx","_reverseRecord","redo","endFlagIdx","deliverChangeRecords","temp","type","oldValue","apply","index","addedCount","removed","startFlag","endFlag","flag","wrap","fn","ctx","that","slice","call","arguments","setWhitelist","list","removeWhitelist","getWhitelist","i","l","setBlacklist","removeBlacklist","getBlacklist","addToGlobalWhitelist","args","removeFromGlobalWhitelist","filter","paramName","addToGlobalBlacklist","removeFromGlobalBlacklist","wl","bl","isObserved","observeds","observeObj","observer","ObjectObserver","observers","open","added","changed","getOldValueFn","property","observeArr","arr","ArrayObserver","splices","_isPolymerShimInited","usingShim","performMicrotaskCheckpoint","idx","close"],"mappings":"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"}